<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: html_head"></head>

<body>
<div th:replace="fragments/navbar :: menu"></div>

<h1 class="text-center">View Employee Compensation Claims</h1>
<br>

<h3 class="text-center" th:if="${#lists.isEmpty(claims)}"><em>There are no Compensation Claims.</em></h3>

<div class="d-flex flex-column align-items-center">

    <!-- Search bar -->
    <form class="form-inline" method="get" th:action="@{/manager/compensation-claims/viewEmployees}">
        <div class="form-group">
            <div class="input-group">
                <!-- query -->
                <input class="form-control" name="query" placeholder="Name"
                       aria-label="Search" aria-describedby="search-addon"
                       th:value="${keyword}" type="search"/>
                <button type="submit" class="btn btn-outline-primary">Search</button>
            </div>
        </div>
    </form>

    <div>
        <table class="table table-hover table-striped table-responsive-md w-100 align-middle text-center">
            <thead>
                <tr>
                    <th>Claim Id</th>
                    <th>Employee Name</th>
                    <th>Overtime Start</th>
                    <th>Overtime End</th>
                    <th>Overtime Hours</th>
                    <th>Eligible Compensation Leave</th>
                    <th>Reviewed Date/Time</th>
                    <th>Status</th>
                    <th>Comments</th>
                </tr>
            </thead>
            <tbody>
                <!-- Loop through claims -->
                <th:block th:each="claim:${claims}">
                    <tr>
                        <td th:text="${claim.id}"></td>
                        <td th:text="${claim.claimingEmployee.name}"></td>
                        <td th:text="${#temporals.format(claim.overtimeStart, 'dd-MMM-yyyy, HH:mm')}"></td>
                        <td th:text="${#temporals.format(claim.overtimeEnd, 'dd-MMM-yyyy, HH:mm')}"></td>
                        <td th:text="${claim.overtimeHours}"></td>
                        <td th:text="${claim.compensationLeaveRequested}"></td>
                        <td th:text="${claim.claimStatus}"></td>
                        <td th:text="${#temporals.format(claim.reviewedDateTime, 'dd-MMM-yyyy, HH:mm')}"></td>
                        <td class="col-" th:if="${claim.claimStatus.name()}=='APPROVED' or ${claim.claimStatus.name()}=='REJECTED'"
                            th:text="${claim.comments}"></td>
                        <td th:unless="${claim.claimStatus.name()}=='APPROVED' or ${claim.claimStatus.name()}=='REJECTED'"> </td>
                    </tr>
                </th:block>
            </tbody>
        </table>
    </div>

</div>

</body>
</html>